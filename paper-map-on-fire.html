<link rel="import" href="elements.html">

<polymer-element name="paper-map-on-fire">
    <template>
        <link rel="stylesheet" href="paper-map-on-fire.css">

        <!-- Firebase Element -->
        <firebase-element location="https://dazzling-fire-4274.firebaseio.com/" limittolast="100" data="{{ data }}" keys="{{ keys }}" dataready id="base"></firebase-element>


        <core-drawer-panel>

            <!-- Menu Drawer -->
            <core-header-panel drawer mode="seamed">

                <!-- Drawer Toolbar Heading -->
                <core-toolbar>Filter</core-toolbar>

                <!-- Drawer Content -->
                <core-menu ng-selected="string" ted="0">
                    <core-item label="Filter1"></core-item>
                    <core-item label="Filter2"></core-item>
                    <core-item label="Filter2"></core-item>
                </core-menu>

            </core-header-panel>

            <!-- Main -->
            <core-header-panel main mode="seamed">

                <!-- Main Toolbar -->
                <core-toolbar>
                    <core-icon-button icon="filter-list" core-drawer-toggle></core-icon-button>
                    <core-field>
                        <input placeholder="Search" flex>
                    </core-field>
                    <!-- Ventical DropDown Button -->
                    <core-menu-button id="menuBtn" noink>
                        <core-icon-button icon="more-vert" noink></core-icon-button>
                        <core-dropdown class="dropdown" halign="right">
                            <core-menu class="menu">
                                <core-item>Settings</core-item>
                                <core-item>Help</core-item>
                                <core-item>Feedback</core-item>
                            </core-menu>
                        </core-dropdown>
                    </core-menu-button>
                </core-toolbar>

                <!-- Main Content -->
                <div class="hero-unit">
                    <google-map latitude="51.47400332565435" longitude="-0.12501141796873005" id="google_map">
                        <template repeat="{{x in keys}}">
                            <google-map-marker longitude="{{ data[x].LatLng|LatLngTolongitude }}" latitude="{{ data[x].LatLng|LatLngTolatitude }}" title="{{data[x].value}}"></google-map-marker>
                        </template>
                    </google-map>

                    <!-- Fab Buttons -->
                    <paper-fab icon="list" id="paper_fab"></paper-fab>
                    <paper-fab icon="maps:my-location" id="paper_fab1"></paper-fab>
                </div>

            </core-header-panel>

        </core-drawer-panel>

    </template>

    <script>
    Polymer({
        data: null,
        keys: null,
        LatLngTolongitude: function(value) {
            return value.split(',')[1];
        },
        LatLngTolatitude: function(value) {
            return value.split(',')[0];
        }
    });
    </script>

</polymer-element>
